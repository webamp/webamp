<!doctype html>
<html lang="en" ng-app="webamp">
<head>
  <meta charset="UTF-8">
  <title>Webamp.io</title>
  <link rel="stylesheet" href="bower_components/bootstrap-css/css/bootstrap.css">
  <link rel="stylesheet" href="bower_components/ng-sortable/dist/ng-sortable.min.css">

</head>
<body>


<div ng-controller="SoundCloudAuthCtrl">
  <div ng-show="!soundcloud.authed">
     <span>Not authed. </span>
     <button ng-click="soundcloud.auth()">Auth</button>
  </div>
  <div ng-show="soundcloud.authed">
     Authed as <strong>{{soundcloud.name}}</strong>
  </div>
</div>

<hr>

<div ng-controller="QueueCtrl">
    <h3>Queue</h3>


    <input ng-model="queue_id">
    <button ng-click="queue.loadQueue(queue_id, player_name)">Load</button>

      <ul class="playlist" as-sortable="queue.dragControlListeners" ng-model="queue.tracks">
        <li ng-repeat="track in queue.tracks" as-sortable-item ng-class="{playing: track.playing}"><div as-sortable-item-handle>{{ track.name }} ({{ track.$priority }})</div></li>
      </ul>

    <h3> Players </h3>

    <input ng-model="player_name">
    <button ng-click="queue.renamePlayer(player_name)">Rename</button>

    <ul class="players">
      <li ng-repeat="player in queue.players" ng-class="{playing: player.playing, itsme: player.$id == queue.playerRef.key()}">
        {{ player.$id }} - {{ player.name }}
      </li>
    </ul>  
 </div>


<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.13/angular.min.js"></script>
<script src="https://cdn.firebase.com/js/client/2.1.2/firebase.js"></script>
<script src="https://cdn.firebase.com/libs/angularfire/0.9.2/angularfire.min.js"></script>
<script src="https://connect.soundcloud.com/sdk.js"></script>
<script type="text/javascript" src="bower_components/ng-sortable/dist/ng-sortable.min.js"></script>
<script src="app.js"></script>

</body>
</html>